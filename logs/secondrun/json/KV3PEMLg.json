{
    "scrape_url": "https://scrape.pastebin.com/api_scrape_item.php?i=KV3PEMLg",
    "full_url": "https://pastebin.com/KV3PEMLg",
    "date": "1594449886",
    "key": "KV3PEMLg",
    "size": 24771,
    "expire": "0",
    "title": "Update to discord.js v12",
    "syntax": "javascript",
    "user": "",
    "filename": "KV3PEMLg",
    "pasteid": "KV3PEMLg",
    "pastesite": "pastebin.com",
    "@timestamp": "2020-07-11T06:44:46",
    "MD5": "9a6409f7914d2a3cac074ddc053c4b59",
    "SHA256": "81af9fcd05080ecfcb14af21d671b94f80c613917011683423afedb16b911f85",
    "raw_paste": "const Discord = require(\"discord.js\");\r\nconst { Client, Util } = require(\"discord.js\");\r\nconst converter = require(\"number-to-words\");\r\nconst moment = require(\"moment\");\r\nconst YouTube = require(\"simple-youtube-api\");\r\nconst ytdl = require(\"ytdl-core\");\r\nconst dotenv = require(\"dotenv\").config();\r\nrequire(\"./server.js\");\r\nconst client = new Discord.Client({ disableEveryone: true});\r\n \r\nconst prefix = process.env.PREFIX;\r\nconst TOKEN = process.env.BOT_TOKEN;\r\nconst PREFIX = process.env.PREFIX;\r\nconst GOOGLE_API_KEY = process.env.YTAPI_KEY;\r\n \r\nclient.commands = new Discord.Collection();\r\nclient.aliases = new Discord.Collection();\r\n \r\nclient.on('ready', () => {\r\nclient.user.setActivity(\"m!help\");\r\n});\r\n \r\nclient.on('message', message => {\r\nvar prefix = \"z\";\r\nconst developers = [\"319466952064106496\",\"592714449438375937\"]\r\nif (!developers.includes(message.author.id)) return;\r\n  if(message.content.toLowerCase().startsWith(prefix + \"leave\")){\r\n  if(!message.author.id == \"319466952064106496\") return;\r\n \r\n  var id = message.content.split(\" \")[1];\r\n  if(!id) return message.channel.send(':x: Input an id!')\r\n   \r\n  var guild = client.guilds.cache.get(id);\r\n  if(!guild) return message.channel.send(\":x: I Can't find this server.\")\r\nguild.leave();\r\n}\r\n});\r\n \r\n \r\nclient.on('guildCreate', async guild => {\r\nif(guild.id == \"719333208713330749\") return;\r\nif (guild.memberCount <= 50) {\r\n  guild.leave()\r\n}\r\n});\r\n \r\nclient.on('message', message => {\r\nif(message.content.toLowerCase().startsWith(prefix +\"kiss\")){\r\nlet kisses = [\"https://media2.giphy.com/media/G3va31oEEnIkM/giphy.gif\", \"https://media.tenor.com/images/39fe167bdab90223bcc890bcb067b761/tenor.gif\", \"https://media.tenor.com/images/bff7a94b25bd329853b74fb7d35456d1/tenor.gif\", \"https://media.tenor.com/images/a2b2a46aef7e20955412b15ffff1a9ce/tenor.gif\", \"https://media.tenor.com/images/9f60dfd6440bc07b264595555e43cc26/tenor.gif\", \"https://media.tenor.com/images/444a362780da9783d170ebc4bb5437fb/tenor.gif\", \"https://media.tenor.com/images/26aaa1494b424854824019523c7ba631/tenor.gif\", \"https://media.tenor.com/images/b82fdbfc8d45eb9652cf5a3863906cc3/tenor.gif\", \"https://media.tenor.com/images/be2b3298bc9880b9ffcdc7a47635fff6/tenor.gif\", \"https://media.tenor.com/images/f2795e834ff4b9ed3c8ca6e1b21c3931/tenor.gif\", \"https://tenor.com/search/kiss-in-a-cheek-gifs\", \"https://media.tenor.com/images/b020758888323338c874c549cbca5681/tenor.gif\", \"https://media.tenor.com/images/07b5bea3e050f380c6742500c1f1f7db/tenor.gif\", \"https://media.tenor.com/images/25359520a0973f896b002689ed90db8d/tenor.gif\"];\r\n\r\nlet randomKiss = kisses[Math.floor(Math.random() * kisses.length)];\r\n\r\nlet ifMention;\r\nif(message.mentions.members.first()){\r\nifMention = `${message.author.username} gives a kiss to ${message.mentions.members.first().user.username}`;\r\n} else {\r\nifMention = `${client.user.username} gives a kiss to ${message.author.username}`;\r\n}\r\n\r\nlet test = new Discord.MessageEmbed()\r\n.setAuthor(ifMention)\r\n.setFooter(`By ${message.author.username} `, message.author.displayAvatarURL({\r\ndynamic: true,\r\nsize: 1024,\r\nformat: 'png'\r\n}))\r\n.setColor(\"RANDOM\")\r\n.setImage(randomKiss)\r\n.setTimestamp();\r\nmessage.channel.send(test);\r\n}})\r\n \r\nclient.on('message', message => {\r\nif(message.content.toLowerCase().startsWith(prefix +\"corona\")){\r\n  var two = Math.floor(Math.random() * 5) + 1;\r\n \r\n  var one = Math.floor(Math.random() * 2) + 1;\r\nvar stats = \"\"\r\nif(one === 1 ) stats = \"You have corona !!!\"\r\nif(one === 2 ) stats = \"You are healthy \ud83d\udc4d\"\r\n  var color = \"\"\r\nif(one === 1 ) color = \"RED\"\r\nif(one === 2 ) color = \"GREEN\"\r\nvar ard = \"\"\r\nif(one === 1) {\r\nif(two === 1) ard = `\r\n- You have a cough\r\n- Your illness is in serious condition\r\n- You have a fever\r\n- You have a headache\r\n- Feel that you will die\r\n(Corona ratio that you have %50 \ud83e\udda0)\r\n`\r\nif(two === 2) ard = `\r\n- You have a cough\r\n- Your illness began to reach a serious condition\r\n- You have a fever\r\n- You have a headache\r\n(Corona ratio that you have %80 \ud83e\udda0)\r\n`\r\nif(two === 3) ard = `\r\n- You have a cough\r\n- You have an average condition\r\n- You have a mild fever\r\n- You have a slight headache\r\n(Corona ratio that you have %40 \ud83e\udda0)\r\n`\r\nif(two === 4) ard = `\r\n- You have a cough\r\n- The disease began to bring you to an average condition\r\n- You have very little fever\r\n- You have a little headache\r\n(Corona ratio that you have %20 \ud83e\udda0)\r\n`\r\nif(two === 4) ard = `\r\n- You have a little cough\r\n- Your illness is normal\r\n- You have very little fever\r\n- You have a little headache\r\n(Corona ratio that you have %60 \ud83e\udda0)\r\n`\r\nif(two === 5) ard = `\r\n- The disease began to be transmitted to you\r\n- You have very little coughing\r\n(Corona ratio that you have %10 \ud83e\udda0)\r\n`\r\n}\r\n    let test = new Discord.MessageEmbed()\r\n.setTitle(`${stats}\\n${ard}`)\r\n.setFooter(`By ${message.author.username}`, message.author.displayAvatarURL({\r\ndynamic: true,\r\nsize: 1024,\r\nformat: 'png'\r\n}))\r\n    .setAuthor(client.user.username, client.user.displayAvatarURL({\r\ndynamic: true,\r\nsize: 1024,\r\nformat: 'png'\r\n}))\r\n.setColor(color)\r\n.setTimestamp();\r\nmessage.channel.send(test);\r\n}})\r\n \r\nclient.on('message', message => {\r\nif(message.content.toLowerCase().startsWith(prefix +\"y&n\")){\r\nlet response = [\"Yes\", \"NO\"];\r\nvar stats = response[Math.floor(Math.random() * response.length)];\r\n \r\n  var color;\r\nif(stats === \"Yes\") color = \"14ff3b\";\r\nif(stats === \"NO\") color = \"c10200\";\r\n \r\n    let test = new Discord.MessageEmbed()\r\n.setTitle(stats)\r\n.setFooter(`By ${message.author.username} `, message.author.displayAvatarURL({\r\ndynamic: true,\r\nsize: 1024,\r\nformat: 'png'\r\n}))\r\n.setColor(color)\r\n.setTimestamp();\r\nmessage.channel.send(test);\r\n}})\r\n \r\nclient.on('message', message => {\r\nif(message.content.toLowerCase().startsWith(prefix +\"ping\")){\r\nlet test = new Discord.MessageEmbed()\r\n        .setAuthor(client.user.username, client.user.displayAvatarURL({\r\ndynamic: true,\r\nsize: 1024,\r\nformat: 'png'\r\n}))\r\n        .addField(\"Latency/Ping:\", `\\`${Math.floor(Math.round(client.ws.ping))}\\``, true)\r\n        .setColor(\"RANDOM\")\r\n        .setFooter(\"Thanks for using and trusting Maro Bot.\")\r\n.setTimestamp();\r\nmessage.channel.send(test);\r\n  }})\r\n     \r\nlet cmds = {\r\n  play: { cmd: 'play', a: ['p','\u0634\u063a\u0644','\u062a\u0634\u063a\u064a\u0644'] },\r\n  skip: { cmd: 'skip', a: ['s','\u062a\u062e\u0637\u064a','next']},\r\n  stop: { cmd: 'stop', a:['\u0627\u064a\u0642\u0627\u0641','\u062a\u0648\u0642\u0641'] },\r\n  pause: { cmd: 'pause', a:['\u0644\u062d\u0638\u0629','\u0645\u0624\u0642\u062a'] },\r\n  resume: { cmd: 'resume', a: ['r','\u0627\u0643\u0645\u0644','\u0627\u0633\u062a\u0643\u0645\u0627\u0644'] },\r\n  volume: { cmd: 'volume', a: ['vol','\u0635\u0648\u062a'] },\r\n  queue: { cmd: 'queue', a: ['q','list','\u0642\u0627\u0626\u0645\u0629'] },\r\n  repeat: { cmd: 'repeat', a: ['re','\u062a\u0643\u0631\u0627\u0631','\u0627\u0639\u0627\u062f\u0629'] },\r\n  forceskip: { cmd: 'forceskip', a: ['fs', 'fskip'] },\r\n  skipto: { cmd: 'skipto', a: ['st','\u062a\u062e\u0637\u064a \u0627\u0644\u064a'] },\r\n  nowplaying: { cmd: 'Nowplaying', a: ['np','\u0627\u0644\u0627\u0646'] }\r\n};\r\n \r\n \r\n \r\nObject.keys(cmds).forEach(key => {\r\nvar value = cmds[key];\r\n  var command = value.cmd.toLowerCase();\r\n  client.commands.set(command, command);\r\n \r\n  if(value.a) { // 14\r\n    value.a.forEach(alias => {\r\n    client.aliases.set(alias, command)\r\n  })\r\n  }\r\n})\r\n \r\n \r\nconst getYoutubeID = require('get-youtube-id');\r\nconst fetchVideoInfo = require('youtube-info');\r\nconst youtube = new YouTube(GOOGLE_API_KEY);\r\n \r\nlet active = new Map();\r\n \r\nclient.on('warn', console.warn);\r\n \r\nclient.on('error', console.error);\r\nclient.on('ready', () => {\r\n    console.log(\"Created By: mezo\");\r\n    console.log(`Guilds: ${client.guilds.cache.size}`);\r\n    console.log(`Users: ${client.users.cache.size}`);\r\n});\r\n \r\n \r\nclient.on('message', async msg => {\r\n    if(msg.author.bot) return;\r\n  if(!msg.content.startsWith(prefix)) return;\r\n \r\n  const args = msg.content.slice(prefix.length).trim().split(/ +/g);\r\nconst command = args.shift().toLowerCase();\r\n \r\n    const url = args[1] ? args[1].replace(/<(.+)>/g, '$1') : '';\r\n \r\n    let cmd = client.commands.get(command) || client.commands.get(client.aliases.get(command));\r\n \r\n    let s;\r\n \r\n if (cmd === \"play\") {\r\n    const voiceChannel = msg.member.voice.channel;\r\n    if (!voiceChannel)\r\n      return msg.channel.send(\r\n        \"<:maroisoff:726788473050103891> **You must be listening in a voice channel \u201a to use that .**\"\r\n      );\r\n    const permissions = voiceChannel.permissionsFor(client.user);\r\n    if (!permissions.has(\"CONNECT\")) {\r\n      return msg.channel.send(\r\n        \"<:maroisoff:726788473050103891>  I can\\'t join Your voiceChannel \u201a because i don\\'t have \\`CONNECT\\` permission!\"\r\n      );\r\n    }\r\n        if(!permissions.has('SPEAK')) {\r\n            return msg.channel.send(\r\n        \"<:maroisoff:726788473050103891>  I can\\'t SPEAK in your voiceChannel \u201a because i don\\'t have \\`SPEAK\\` permission!\");\r\n        }\r\n     \r\n        if (url.match(/^https?:\\/\\/(www.youtube.com|youtube.com)\\/playlist(.*)$/)) {\r\n            const playlist = await youtube.getPlaylist(url);\r\n            const videos = await playlist.getVideos();\r\n \r\n            for (const video of Object.values(videos)) {\r\n                const video2 = await youtube.getVideoByID(video.id); // eslint-disable-line no-await-in-loop\r\n                await handleVideo(video2, msg, voiceChannel, true); // eslint-disable-line no-await-in-loop\r\n            }\r\n            return msg.channel.send(`Added to queue: ${playlist.title}`);\r\n        } else {\r\n            try {\r\n// \u0643\u0647\u0647\u0631\u0628\u0627\r\n                var video = await youtube.getVideo(url);\r\n            } catch (error) {\r\n                try {\r\n                    var videos = await youtube.searchVideos(args, 1);\r\n \r\n                    // eslint-disable-next-line max-depth\r\n                    var video = await youtube.getVideoByID(videos[0].id);\r\n                } catch (err) {\r\n                    console.error(err);\r\n                    return msg.channel.send('**I can\\'t find any thing**');\r\n                }\r\n            }\r\n \r\n            return handleVideo(video, msg, voiceChannel);\r\n        }\r\n \r\n        async function handleVideo(video, msg, voiceChannel, playlist = false) {\r\n    const serverQueue = active.get(msg.guild.id);\r\n \r\n \r\n//  console.log('yao: ' + Util.escapeMarkdown(video.thumbnailUrl));\r\n// Kahrbaa \u0643\u0647\u0647\u0631\u0628\u0627\r\nlet hrs = video.duration.hours > 0 ? (video.duration.hours > 9 ? `${video.duration.hours}:` : `0${video.duration.hours}:`) : '';\r\nlet min = video.duration.minutes > 9 ? `${video.duration.minutes}:` : `0${video.duration.minutes}:`;\r\nlet sec = video.duration.seconds > 9 ? `${video.duration.seconds}` : `0${video.duration.seconds}`;\r\nlet dur = `${hrs}${min}${sec}`\r\n \r\n  let ms = video.durationSeconds * 1000;\r\n \r\n    const song = {  // 04\r\n        id: video.id,\r\n        title: video.title,\r\n    duration: dur,\r\n    msDur: ms,\r\n        url: `https://www.youtube.com/watch?v=${video.id}`\r\n    };\r\n    if (!serverQueue) {\r\n        const queueConstruct = {\r\n            textChannel: msg.channel,\r\n            voiceChannel: voiceChannel,\r\n            connection: null,\r\n            songs: [],\r\n            volume: 100,\r\n      requester: msg.author,\r\n            playing: true,\r\n      repeating: false\r\n        };\r\n        active.set(msg.guild.id, queueConstruct);\r\n \r\n        queueConstruct.songs.push(song);\r\n \r\n        try {\r\n            var connection = await voiceChannel.join();\r\n            queueConstruct.connection = connection;\r\n            play(msg.guild, queueConstruct.songs[0]);\r\n        } catch (error) {\r\n            console.error(`I could not join the voice channel: ${error}`);\r\n            active.delete(msg.guild.id);\r\n            return msg.channel.send(`I cant join this voice channel`);\r\n        } // 04\r\n    } else {\r\n        serverQueue.songs.push(song);\r\n  if (playlist) return;\r\n        if(!args) return msg.channel.send('no results.');\r\n        else return msg.channel.send('<a:emoji_12:719512086711107584> Loading... [`' + args + '`]').then(m => {\r\n      setTimeout(() => {//<a:emoji_12:719512086711107584>  Loading... [let]\r\n               m.edit(`<:maroison:726788473805340726>  Added\r\n**${song.title}**` + '(`' + song.duration + '`)'\r\n             \r\n              +  ` to the queue at position ` + `${serverQueue.songs.length}`);\r\n \r\n      }, 500)\r\n    })\r\n    }\r\n    return;\r\n}\r\n                                           \r\n     \r\nfunction play(guild, song) {\r\n    const serverQueue = active.get(guild.id);\r\n \r\n    if (!song) {\r\n        serverQueue.voiceChannel.leave();\r\n        active.delete(guild.id);\r\n        return;\r\n    }\r\n    //console.log(serverQueue.songs);\r\n      if (serverQueue.repeating) {\r\n        console.log(\"Repeating\");\r\n      } else {\r\n        serverQueue.textChannel.send(\r\n          \"<:maroison:726788473805340726> Played **\"\r\n       \r\n           + song.title +\r\n            \"** (`\" +\r\n            song.duration\r\n       \r\n    +   \"`)  if you would like to pause the music type **m!pause** :)\"\r\n        );\r\n      }\r\n \r\n    const dispatcher = serverQueue.connection.play(ytdl(song.url))\r\n        .on('end', reason => {\r\n            //if (reason === 'Stream is not generating quickly enough.') console.log('Song ended.');\r\n            //else console.log(reason);\r\n      if(serverQueue.repeating) return play(guild, serverQueue.songs[0])\r\n            serverQueue.songs.shift();\r\n            play(guild, serverQueue.songs[0]);\r\n        })\r\n        .on('error', error => console.error(error));\r\n    dispatcher.setVolumeLogarithmic(serverQueue.volume / 100);\r\n \r\n \r\n}\r\n} else if(cmd === 'stop') {\r\n        if(msg.guild.me.voice.channel.id !== msg.member.voice.channel.id) return msg.channel.send(`You must be in ${msg.guild.me.voice.channel.name}`)\r\n        let queue = active.get(msg.guild.id);\r\n        if(queue.repeating) return msg.channel.send('Repeating Mode is on, you can\\'t stop the music, run `' + `${prefix}repeat` + '` to turn off it.')\r\n        queue.songs = [];\r\n        queue.connection.dispatcher.end();\r\n        return msg.channel.send(\r\n      \"<:maroison:726788473805340726> The player has stopped and the queue has been cleared.\"\r\n    );\r\n \r\n    } else if(cmd === 'skip') {\r\n \r\n      let vCh = msg.member.voice.channel;\r\n \r\n      let queue = active.get(msg.guild.id);\r\n \r\n        if(!vCh) return msg.channel.send(\"Sorry, but you can't because you are not in voice channel\"\r\n);\r\n \r\n        if(!queue) return msg.channel.send(\"**<:maroisoff:726788473050103891> No music playing to skip it .**\"\r\n      );\r\n \r\n        if(queue.repeating) return msg.channel.send('You can\\'t skip it, because repeating mode is on, run ' + `\\`${prefix}forceskip\\``);\r\n \r\n        let req = vCh.members.size - 1;\r\n \r\n        if(req == 1) {\r\n            msg.channel.send(\"**<:maroison:726788473805340726> Skipped **\" + args);\r\n            return queue.connection.dispatcher.end('Skipping ..')\r\n        }\r\n \r\n        if(!queue.votes) queue.votes = [];\r\n \r\n        if(queue.votes.includes(msg.member.id)) return msg.say(`You already voted for skip! ${queue.votes.length}/${req}`);\r\n \r\n        queue.votes.push(msg.member.id);\r\n \r\n        if(queue.votes.length >= req) {\r\n            msg.channel.send(\"**<:maroison:726788473805340726> Skipped **\" + args);\r\n \r\n            delete queue.votes;\r\n \r\n            return queue.connection.dispatcher.end('Skipping ..')\r\n        }\r\n \r\n        msg.channel.send(`**You have successfully voted for skip! ${queue.votes.length}/${req}**`)\r\n \r\n    } else if(cmd === 'pause') {\r\n \r\n      let queue = active.get(msg.guild.id);\r\n \r\n        let vCh = msg.member.voice.channel;\r\n \r\n        if(!vCh || vCh.id !== msg.guild.me.voice.channel.id) return msg.channel.send(`You are not in my voice channel.`);\r\n \r\n        if(!queue) {\r\n            return msg.channel.send('No music playing to pause.')\r\n        }\r\n \r\n        if(!queue.playing) return msg.channel.send(\"**<:maroisoff:726788473050103891>  There must be music playing \u201a to use that .**\"\r\n)\r\n \r\n        let disp = queue.connection.dispatcher;\r\n \r\n        disp.pause('Pausing..')\r\n \r\n        queue.playing = false;\r\n \r\n        msg.channel.send(\r\n      \"<:maroberightback:726788437994111026> Paused \" +\r\n        args +\r\n        \". **Type** `\" +\r\n        prefix +\r\n        \"resume` to unpause!\"\r\n    )\r\n \r\n    } else if (cmd === 'resume') {\r\n \r\n      let queue = active.get(msg.guild.id);\r\n \r\n        let vCh = msg.member.voice.channel;\r\n \r\n        if(!vCh || vCh.id !== msg.guild.me.voice.channel.id) return msg.channel.send(`You are not in my voice channel.`);\r\n \r\n        if(!queue) return msg.channel.send(\r\n        \"<:maroisoff:726788473050103891>  No music paused to resume.\")\r\n \r\n        if(queue.playing) return msg.channel.send(\r\n        \"<:maroisoff:726788473050103891>  No music paused to resume.\")\r\n \r\n        let disp = queue.connection.dispatcher;\r\n \r\n        disp.resume('Resuming..')\r\n// 2-0-0-2\r\n        queue.playing = true;\r\n \r\n        msg.channel.send(\"<:maroison:726788473805340726>  Resumed.\")\r\n \r\n    } else if(cmd === 'volume') {\r\n \r\n      let queue = active.get(msg.guild.id);\r\n \r\n      if(!queue || !queue.songs) return msg.channel.send(\"<:maroberightback:726788437994111026> There is no music playing to set volume.\"\r\n);\r\n \r\n      let vCh = msg.member.voice.channel;\r\n \r\n      if(!vCh || vCh.id !== msg.guild.me.voice.channel.id) return msg.channel.send(\"<:maroisoff:726788473050103891> You are not in my voice channel\"\r\n);\r\n \r\n      let disp = queue.connection.dispatcher;\r\n \r\n      if(isNaN(args[0])) return msg.channel.send(\"<:maroberightback:726788437994111026>  Numbers only!\");\r\n \r\n      if(parseInt(args[0]) > 100) return msg.channel.send(\"You can't set the volume more than **100**.\")\r\n//:speaker: Volume changed from 20 to 20 ! The volume has been changed from ${queue.volume} to ${args[0]}\r\n     msg.channel.send(\r\n      \"<:maroison:726788473805340726> Volume ! has been changed from , (`\" +\r\n        queue.volume +\r\n        \"`) to (`\" +\r\n        args[0] +\r\n        \"`)\"\r\n    );\r\n   \r\n      queue.volume = args[0];\r\n \r\n      disp.setVolumeLogarithmic(queue.volume / 100);\r\n \r\n    } else if (cmd === 'queue') {\r\n \r\n      let queue = active.get(msg.guild.id);\r\n \r\n      if(!queue) return msg.channel.send(\"**<:maroberightback:726788437994111026> There must be music playing \u201a to use that .**\"\r\n);\r\n \r\n      let embed = new Discord.MessageEmbed()\r\n      .setAuthor(client.user.username, client.user.displayAvatarURL({\r\ndynamic: true,\r\nsize: 1024,\r\nformat: 'png'\r\n}))\r\n      let text = \"\";\r\n \r\n      for (var i = 0; i < queue.songs.length; i++) {\r\n        let num;\r\n        if((i) > 8) {\r\n          let st = i + 1;\r\n          let n1 = converter.toWords(st[0])\r\n          let n2 = converter.toWords(st[1])\r\n          num = `:${n1}::${n2}:`\r\n        } else {\r\n        let n = converter.toWords(i+1)\r\n        num = `:${n}:`\r\n      }\r\n        text += `${num} ${queue.songs[i].title} [${queue.songs[i].duration}]\\n`\r\n      }\r\n      embed.setDescription(`Songs Queue | ${msg.guild.name}\\n\\n ${text}`)\r\n      msg.channel.send(embed)\r\n \r\n    } else if(cmd === 'repeat') {\r\n \r\n      let vCh = msg.member.voice.channel;\r\n \r\n      if(!vCh || vCh.id !== msg.guild.me.voice.channel.id) return msg.channel.send(\"**<:maroberightback:726788437994111026> You are not in my voice channel .**\");\r\n \r\n      let queue = active.get(msg.guild.id);\r\n \r\n      if(!queue || !queue.songs) return msg.channel.send(\"**<:maroberightback:726788437994111026> There is no music playing to repeat it .**\");\r\n \r\n      if(queue.repeating) {\r\n        queue.repeating = false;\r\n        return msg.channel.send(\"<:maroisoff:726788473050103891> **Repeating Mode is** (`OFF`)\");\r\n      } else {\r\n        queue.repeating = true;\r\n        return msg.channel.send(\"<:maroison:726788473805340726> **Repeating Mode is** (`ON`)\");\r\n      }\r\n \r\n    } else if(cmd === 'forceskip') {\r\n \r\n      let vCh = msg.member.voice.channel;\r\n \r\n      if(!vCh || vCh.id !== msg.guild.me.voice.channel.id) return msg.channel.send(\"**<:maroberightback:726788437994111026> You are not in my voice channel .**\");\r\n \r\n      let queue = active.get(msg.guild.id);\r\n \r\n      if(queue.repeating) {\r\n \r\n        queue.repeating = false;\r\n \r\n        msg.channel.send(\"**<:maroison:726788473805340726> ForceSkipped \u060c Repeating mode is on .**\")\r\n \r\n        queue.connection.dispatcher.end('ForceSkipping..')\r\n// 2-0-0-2\r\n        queue.repeating = true;\r\n \r\n      } else {\r\n \r\n        queue.connection.dispatcher.end('ForceSkipping..')\r\n \r\n        msg.channel.send('ForceSkipped.')\r\n \r\n      }\r\n \r\n     } else if(cmd === 'skipto') {\r\n \r\n      let vCh = msg.member.voice.channel;\r\n \r\n      if(!vCh || vCh.id !== msg.guild.me.voice.channel.id) return msg.channel.send(\"**<:maroberightback:726788437994111026> You are not in my voice channel .**\");\r\n \r\n      let queue = active.get(msg.guild.id);\r\n \r\n      if(!queue.songs || queue.songs < 2) return msg.channel.send(\"**<:maroberightback:726788437994111026> There is no music to skip to .**\");\r\n \r\n    if(queue.repeating) return msg.channel.send('You can\\'t skip, because repeating mode is on, run ' + `\\`${prefix}repeat\\` to turn off.`);\r\n \r\n      if(!args[0] || isNaN(args[0])) return msg.channel.send('Please input song number to skip to it, run ' + prefix + `queue` + ' to see songs numbers.');\r\n \r\n      let sN = parseInt(args[0]) - 1;\r\n \r\n      if(!queue.songs[sN]) return msg.channel.send('There is no song with this number.');\r\n \r\n      let i = 1;\r\n \r\n      msg.channel.send(`Skipped to: **${queue.songs[sN].title}[${queue.songs[sN].duration}]**`)\r\n \r\n      while (i < sN) {\r\n        i++;\r\n        queue.songs.shift();\r\n      }\r\n \r\n      queue.connection.dispatcher.end('SkippingTo..')\r\n \r\n    } else if(cmd === 'Nowplaying') {\r\n \r\n      let q = active.get(msg.guild.id);\r\n \r\n      let now = npMsg(q)\r\n \r\n      msg.channel.send(now.mes, now.embed)\r\n      .then(me => {\r\n        setInterval(() => {\r\n          let noww = npMsg(q)\r\n          me.edit(noww.mes, noww.embed)\r\n        }, 5000)\r\n      })\r\n \r\n      function npMsg(queue) {\r\n \r\n        let m = !queue || !queue.songs[0] ? 'No music playing.' : \"Now Playing...\"\r\n \r\n      const eb = new Discord.MessageEmbed();\r\n \r\n      eb.setColor(msg.guild.me.displayHexColor)\r\n \r\n      if(!queue || !queue.songs[0]){\r\n// 04\r\n        eb.setTitle(\"No music playing\");\r\n            eb.setDescription(\"\\u23F9 \"+bar(-1)+\" \"+volumeIcon(!queue?100:queue.volume));\r\n      } else if(queue.songs) {\r\n \r\n        if(queue.requester) {\r\n \r\n          let u = msg.guild.members.cache.get(queue.requester.id);\r\n \r\n          if(!u)\r\n            eb.setAuthor('Unkown (ID:' + queue.requester.id + ')')\r\n          else\r\n            eb.setAuthor(u.user.tag, u.user.displayAvatarURL({\r\ndynamic: true,\r\nsize: 1024,\r\nformat: 'png'\r\n}))\r\n        }\r\n \r\n        if(queue.songs[0]) {\r\n        try {\r\n            eb.setTitle(queue.songs[0].title);\r\n            eb.setURL(queue.songs[0].url);\r\n        } catch (e) {\r\n          eb.setTitle(queue.songs[0].title);\r\n        }\r\n}\r\n        eb.setDescription(embedFormat(queue))\r\n \r\n      }\r\n \r\n      return {\r\n        mes: m,\r\n        embed: eb\r\n      }\r\n \r\n    }\r\n \r\n      function embedFormat(queue) {\r\n \r\n        if(!queue || !queue.songs) {\r\n          return \"No music playing\\n\\u23F9 \"+bar(-1)+\" \"+volumeIcon(100);\r\n        } else if(!queue.playing) {\r\n          return \"No music playing\\n\\u23F9 \"+bar(-1)+\" \"+volumeIcon(queue.volume);\r\n        } else { // 2-0-0-2\r\n \r\n \r\n          let progress = (queue.connection.dispatcher.time / queue.songs[0].msDur);\r\n          let prog = bar(progress);\r\n          let volIcon = volumeIcon(queue.volume);\r\n          let playIcon = (queue.connection.dispatcher.paused ? \"\\u23F8\" : \"\\u25B6\")\r\n          let dura = queue.songs[0].duration;\r\n \r\n          return playIcon + ' ' + prog + ' `[' + formatTime(queue.connection.dispatcher.time) + '/' + dura + ']`' + volIcon;\r\n \r\n \r\n        }\r\n \r\n      }\r\n \r\n      function formatTime(duration) {\r\n  var milliseconds = parseInt((duration % 1000) / 100),\r\n    seconds = parseInt((duration / 1000) % 60),\r\n    minutes = parseInt((duration / (1000 * 60)) % 60),\r\n    hours = parseInt((duration / (1000 * 60 * 60)) % 24);\r\n \r\n  hours = (hours < 10) ? \"0\" + hours : hours;\r\n  minutes = (minutes < 10) ? \"0\" + minutes : minutes;\r\n  seconds = (seconds < 10) ? \"0\" + seconds : seconds;\r\n \r\n  return (hours > 0 ? hours + \":\" : \"\") + minutes + \":\" + seconds;\r\n}\r\n// -0-4-\r\n      function bar(precent) {\r\n \r\n        var str = '';\r\n \r\n        for (var i = 0; i < 12; i++) {\r\n \r\n          let pre = precent\r\n          let res = pre * 12;\r\n \r\n          res = parseInt(res)\r\n \r\n          if(i == res){\r\n            str+=\"\\uD83D\\uDD18\";\r\n          }\r\n          else {\r\n            str+=\"\u25ac\";\r\n          }\r\n        }\r\n \r\n        return str;\r\n \r\n      }\r\n \r\n      function volumeIcon(volume) {\r\n \r\n        if(volume == 0)\r\n           return \"\\uD83D\\uDD07\";\r\n       if(volume < 30)\r\n           return \"\\uD83D\\uDD08\";\r\n       if(volume < 70)\r\n           return \"\\uD83D\\uDD09\";\r\n       return \"\\uD83D\\uDD0A\";\r\n \r\n      }\r\n \r\n    }\r\n \r\n});\r\n \r\n \r\n                                           \r\nclient.login(TOKEN);",
    "YaraRule": [
        "generic_api"
    ]
}